# ميزات التصدير والطباعة - الشاعر عائلتي

## نظرة عامة
تم إضافة ميزات شاملة للتصدير والطباعة في صفحات إدارة الرضع والوفيات.

## الميزات المتاحة

### 1. تصدير Excel (CSV)
- **الملف**: `export_infants_excel.php` و `export_deaths_excel.php`
- **التنسيق**: CSV مع دعم UTF-8 للعربية
- **الميزات**:
  - تصدير جميع البيانات أو البيانات المفلترة
  - دعم البحث والتصفية المتقدمة
  - تسمية تلقائية للملفات مع التاريخ

### 2. تصدير PDF
- **الملف**: `export_infants_pdf.php` و `export_deaths_pdf.php`
- **التنسيق**: HTML قابل للطباعة
- **الميزات**:
  - تصميم احترافي مع شعار الموقع
  - جدول منظم مع تنسيق جميل
  - طباعة تلقائية عند فتح الملف
  - دعم البيانات المفلترة

### 3. الطباعة المباشرة
- **الوظيفة**: `printTable()`
- **الميزات**:
  - نافذة طباعة منفصلة
  - تنسيق محسن للطباعة
  - إخفاء العناصر غير المرغوب فيها

## كيفية الاستخدام

### في صفحة إدارة الرضع:
1. استخدم فلاتر البحث حسب الحاجة
2. اضغط على "تصدير Excel" لتحميل ملف CSV
3. اضغط على "تصدير PDF" لفتح ملف PDF
4. اضغط على "طباعة" لطباعة البيانات

### في صفحة إدارة الوفيات:
1. استخدم فلاتر البحث والتصفية
2. اضغط على "تصدير Excel" لتحميل ملف CSV
3. اضغط على "تصدير PDF" لفتح ملف PDF
4. اضغط على "طباعة" لطباعة البيانات

## الفلاتر المدعومة

### للرضع:
- البحث النصي (الاسم، رقم الهوية، الهاتف)
- الفرع العائلي
- المحافظة
- فئة العمر (0-6 أشهر، 6-12 شهر، 1-2 سنة)

### للوفيات:
- البحث النصي (الاسم، رقم الهوية، مدخل الطلب)
- الفرع العائلي
- المحافظة
- سبب الوفاة
- نطاق التاريخ

## الملفات المطلوبة

### ملفات التصدير:
- `export_infants_excel.php` - تصدير Excel للرضع
- `export_deaths_excel.php` - تصدير Excel للوفيات
- `export_infants_pdf.php` - تصدير PDF للرضع
- `export_deaths_pdf.php` - تصدير PDF للوفيات

### ملفات الإدارة المحدثة:
- `admin-infants.php` - صفحة إدارة الرضع مع أزرار التصدير
- `admin-deaths.php` - صفحة إدارة الوفيات مع أزرار التصدير

## الأمان
- جميع ملفات التصدير محمية بتسجيل دخول الإدارة
- التحقق من الصلاحيات قبل السماح بالتصدير
- تنظيف البيانات المدخلة لمنع الهجمات

## الدعم التقني
- دعم كامل للغة العربية
- تنسيق UTF-8 لضمان عرض صحيح للنصوص
- تصميم متجاوب يعمل على جميع الأجهزة
- رسائل تأكيد قبل التصدير

## التحديثات المستقبلية
- إضافة تصدير Excel متقدم باستخدام PhpSpreadsheet
- إضافة تصدير PDF احترافي باستخدام TCPDF
- إضافة تصدير Word
- إضافة إحصائيات في التقارير
